# üîê SSH Security Assessment on Metasploitable2

## 1Ô∏è‚É£ Introduction
This section documents my assessment of the SSH service running on **Metasploitable2 (192.168.56.101)**.  
The objective was to:
- Enumerate the SSH service
- Identify the version and potential risks
- Attempt authentication (default credentials / brute force)
- Gain access if possible
- Evaluate the security posture and conclude realistic risks

---

## 2Ô∏è‚É£ Service Enumeration

### ‚úÖ Port Scan
I started by scanning for SSH using Nmap:

nmap -sV -p22 192.168.56.101


**Results:**

22/tcp open ssh OpenSSH 4.7p1 Debian 8ubuntu1 (protocol 2.0)


### ‚úÖ Key Findings
- SSH is **active on port 22**
- The server is running **OpenSSH 4.7p1**
- This version is **extremely outdated** (from 2008)
- It relies on **legacy cryptographic algorithms**
- It is known to be vulnerable and insecure

This already suggests a high attack surface.

---

## 3Ô∏è‚É£ Initial Authentication Attempt

I attempted a direct login using the known default Metasploitable credentials:

ssh msfadmin@192.168.56.101


Initially, SSH failed to connect due to unsupported key algorithms.  
To bypass this, I forced the SSH client to use older RSA key types:

ssh -oHostKeyAlgorithms=+ssh-rsa -oPubkeyAcceptedKeyTypes=+ssh-rsa msfadmin@192.168.56.101


‚úÖ **Successful Login**
The password `msfadmin` worked, granting full SSH access:

Linux metasploitable 2.6.24-16-server
Last login: Tue Nov 25
msfadmin@metasploitable:~$


### ‚úÖ Critical Security Issue
The system was accessible using **default credentials**, meaning:
- No password policy enforcement
- No credential hardening
- Direct remote access without restrictions

This alone constitutes a major security failure.

---

## 4Ô∏è‚É£ Brute Force Testing with Hydra

### ‚úÖ Objective
To evaluate whether a brute-force attack would be viable against the SSH service.

### ‚úÖ Wordlists Created

users.txt:
msfadmin
root
user
postgres

passwords.txt:
msfadmin
password
123456
root


### ‚úÖ Hydra Execution

hydra -L users.txt -P passwords.txt -t 4 ssh://192.168.56.101


### ‚ùå Hydra Failure
Hydra could not even establish a connection:

kex error : no match for method mac algo client->server


### ‚úÖ Why This Happened
- Hydra uses **modern cryptographic algorithms**
- OpenSSH 4.7p1 only supports **very old and deprecated algorithms**
- The two sides are **cryptographically incompatible**
- Therefore, brute forcing is **not possible with standard Hydra**, because it cannot negotiate a secure channel to begin the attack

### ‚úÖ Professional Conclusion
The failure of Hydra is **not a mitigation** ‚Äî it is evidence of how outdated and insecure the SSH service is. Modern tools cannot even talk to it because the server relies on deprecated ciphers.

In a real-world environment, this would:
- Break compatibility
- Prevent modern security monitoring
- Increase exposure to legacy exploits

---

## 5Ô∏è‚É£ Final Assessment

### ‚úÖ Confirmed Risks
‚úî Default credentials allowed full SSH access  
‚úî Outdated OpenSSH version (2008)  
‚úî Weak and deprecated cryptographic algorithms  
‚úî No brute-force resistance (password-based login enabled)  
‚úî System compromise possible with zero skill barrier  

### ‚úÖ Real-World Impact
An attacker could:
- Log in remotely
- Execute commands
- Escalate privileges locally
- Pivot into the internal network

This is a **complete remote compromise**.

---

## 6Ô∏è‚É£ Recommended Mitigations

‚úÖ Disable SSH or restrict it to trusted hosts  
‚úÖ Upgrade OpenSSH to a supported version  
‚úÖ Enforce strong password policies  
‚úÖ Disable password authentication and use key-based auth  
‚úÖ Remove default credentials  
‚úÖ Enable intrusion detection / logging  

---

## ‚úÖ Conclusion
The SSH service on Metasploitable2 is critically vulnerable.  
Remote access was achieved simply by logging in with default credentials, and the outdated cryptography further highlights poor security hygiene.

Even without brute-force capability, the system was trivially compromised ‚Äî demonstrating how dangerous weak credential management and legacy services can be.

This assessment successfully validated:
- Enumeration
- Version identification
- Authentication testing
- Full system access

**Result:** ‚úÖ SSH fully compromised.
